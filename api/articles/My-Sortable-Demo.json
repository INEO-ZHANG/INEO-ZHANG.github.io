{"title":"My Sortable Demo","uid":"b035179eb8ac032c0ac19c41f64d9dcc","slug":"My-Sortable-Demo","date":"2024-03-26T14:34:22.000Z","updated":"2024-03-26T14:35:15.537Z","comments":true,"path":"api/articles/My-Sortable-Demo.json","keywords":"JavaScript Vue","cover":[],"content":"<h1 id=\"mySortableDemo\"><a href=\"#mySortableDemo\" class=\"headerlink\" title=\"mySortableDemo\"></a>mySortableDemo</h1><p>一个基于 sortablejs、draggable、eltable 的多层拖拽列表 demo</p>\n<p>github:<a href=\"https://github.com/INEO-ZHANG/mySortableDemo\">https://github.com/INEO-ZHANG/mySortableDemo</a></p>\n<p>数据结构:</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"attr\">name</span>: <span class=\"string\">&quot;aaa&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">children</span>: [</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        <span class=\"attr\">sonName</span>: <span class=\"string\">&quot;aaa1&quot;</span>,</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        <span class=\"attr\">sonName</span>: <span class=\"string\">&quot;aaa2&quot;</span>,</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        <span class=\"attr\">sonName</span>: <span class=\"string\">&quot;aaa3&quot;</span>,</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">    ],</span><br><span class=\"line\">  &#125;,</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"初始\"><a href=\"#初始\" class=\"headerlink\" title=\"初始:\"></a>初始:</h5><p><img src=\"https://github.com/INEO-ZHANG/mySortableDemo/blob/main/images/image-20240326000003284.png\" alt=\"image-20240326000003284\"></p>\n<h5 id=\"aaa2-aaa1\"><a href=\"#aaa2-aaa1\" class=\"headerlink\" title=\"aaa2-&gt;aaa1\"></a>aaa2-&gt;aaa1</h5><p><img src=\"https://github.com/INEO-ZHANG/mySortableDemo/blob/main/images/image-20240326000231256.png\" alt=\"image-20240326000231256\"></p>\n<h5 id=\"aaa-bbb\"><a href=\"#aaa-bbb\" class=\"headerlink\" title=\"aaa-&gt;bbb\"></a>aaa-&gt;bbb</h5><p><img src=\"https://github.com/INEO-ZHANG/mySortableDemo/blob/main/images/image-20240326000401344.png\" alt=\"image-20240326000401344\"></p>\n<p>由于是结合实际遇到的情况，所以外层是 eltable+sortablejs;内层用了 draggable。</p>\n<h4 id=\"问题\"><a href=\"#问题\" class=\"headerlink\" title=\"问题\"></a>问题</h4><p>遇到的问题:</p>\n<p>1.table-key 没设置导致拖拽后顺序混乱，以及 table-key 一定要不同。我原本只是绑定了 name,但是会出现下图情况，应该是子节点导致 name 相同渲染混乱了,找了个和时间相关的随机的 key 就正常了</p>\n<p><img src=\"https://github.com/INEO-ZHANG/mySortableDemo/blob/main/images/image-20240326001244344.png\" alt=\"image-20240326001244344\"></p>\n<p>2.目前的问题是内部的 draggable 的@end 触发不了，暂时没啥影响，后面再看看吧</p>\n","feature":true,"text":"mySortableDemo一个基于 sortablejs、draggable、eltable 的多层拖拽列表 demo github:https://gith...","permalink":"/post/My-Sortable-Demo","photos":[],"count_time":{"symbolsCount":632,"symbolsTime":"1 mins."},"categories":[],"tags":[{"name":"sortablejs draggable elementplus vue","slug":"sortablejs-draggable-elementplus-vue","count":1,"path":"api/tags/sortablejs-draggable-elementplus-vue.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#mySortableDemo\"><span class=\"toc-text\">mySortableDemo</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#%E5%88%9D%E5%A7%8B\"><span class=\"toc-text\">初始:</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#aaa2-aaa1\"><span class=\"toc-text\">aaa2-&gt;aaa1</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#aaa-bbb\"><span class=\"toc-text\">aaa-&gt;bbb</span></a></li></ol></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E9%97%AE%E9%A2%98\"><span class=\"toc-text\">问题</span></a></li></ol></li></ol></li></ol></li></ol>","author":{"name":"INEO-Zhang","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/51935920?s=48&v=4","link":"/","description":"潦草笔记","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{},"next_post":{"title":"test_my_site","uid":"1d42f693ef3dee4e6a8db61e09f0d1c7","slug":"test-my-site","date":"2024-03-26T13:32:02.000Z","updated":"2024-03-26T13:32:02.861Z","comments":true,"path":"api/articles/test-my-site.json","keywords":"JavaScript Vue","cover":null,"text":"","permalink":"/post/test-my-site","photos":[],"count_time":{"symbolsCount":0,"symbolsTime":"1 mins."},"categories":[],"tags":[],"author":{"name":"INEO-Zhang","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/51935920?s=48&v=4","link":"/","description":"潦草笔记","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true}}